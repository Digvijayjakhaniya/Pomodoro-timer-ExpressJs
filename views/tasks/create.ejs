<%- include('../includes/header.ejs') %>

<div class="container  mt-5  mb-5">
    <a href="/" class="btn btn-primary">Back</a>
    <div class="text-center">
        <h3 class="mt-5">Add Task</h3>
        <form action="/store" method="POST" >
            <input type="text" id="task-input" name="task_name" class="form-control mb-2" placeholder="Add a new task">
            <button id="add-task-btn" type="submit" class="btn btn-primary">Add Task</button>
        </form>
    </div>
    <div class="mt-5">
        <h2 class="text-center alert alert-success  mt-3">List of Tasks</h2>
    
        <% if(task_list.length >= 1 ){ %>
        <table class="table table-striped table-hover">
            <thead>
                <tr >
                    <th scope="col">No</th>
                    <th scope="col">Task Name</th>
                    <th scope="col">Status</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
                <% var i=1 %>
                <% task_list.forEach((item)=>{ %>
                    <tr>
                        <td><%= i++ %></td>
                        <td><%= item.task_name %></td>
                        <td><%= item.status %></td>
                        <td>
                            <a href="/edit/<%= item.id %>"><i class="fas fa-pen-square text-info fs-3 me-2"></i></a>
                            <a href="/delete/<%= item.id %>"><i class="fas fa-trash text-danger fs-4 mb-sm-1"></i></a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
        <% }else{%>
            <h4 class="text-center pt-5">No data found</h4>
            <% }%>
    </div>
</div>

<%- include('../includes/footer.ejs') %>